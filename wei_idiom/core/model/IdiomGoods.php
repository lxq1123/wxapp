<?php
 class IdiomGoods { private static $table = "\167\145\x69\137\x69\144\x69\x6f\x6d\137\147\x6f\x6f\144\163"; private static $allFields = array("\x69\x64", "\x75\156\151\141\143\151\144", "\156\141\x6d\x65", "\151\x6d\141\x67\x65", "\x70\162\151\143\145", "\155\x61\x72\153\x65\164\137\160\x72\151\x63\145", "\143\x6f\165\x6e\x74", "\146\x72\x65\145\x5f\x63\157\165\x6e\164", "\x74\x79\x70\145", "\151\156\x73\x65\x72\164\x5f\x74\x69\155\145", "\165\x70\x64\x61\164\145\x5f\x74\x69\x6d\x65", "\x73\x74\141\x74\x75\163"); public static function getAllGoods($uniacid) { goto NKbpM; we0w9: $list = pdo_getall(self::$table, $where, self::$allFields, '', "\160\162\x69\143\x65\x20\104\105\123\103"); goto eOoHm; eOoHm: return false == $list ? [] : $list; goto peSMm; NKbpM: $where = ["\x75\x6e\151\141\x63\x69\x64" => $uniacid, "\163\164\141\164\x75\163" => "\61"]; goto we0w9; peSMm: } public static function getGoodsList($uniacid, $where, $pageIndex, $pageSize) { goto iI4Ed; iI4Ed: $where["\165\x6e\x69\x61\143\x69\144"] = $uniacid; goto G3oRn; SwON5: return false == $list ? [] : $list; goto M2ecp; oKw3_: $list = pdo_getall(self::$table, $where, self::$allFields, '', "\x69\144\40\104\105\x53\x43", "{$start}\54{$pageSize}"); goto SwON5; G3oRn: $start = ($pageIndex - 1) * $pageSize; goto oKw3_; M2ecp: } public static function getGoodsCount($uniacid, $where) { $where["\165\x6e\151\x61\143\x69\144"] = $uniacid; return pdo_count(self::$table, $where); } public static function getGoodById($uniacid, $id) { $res = pdo_get(self::$table, ["\151\x64" => $id, "\165\x6e\x69\141\143\x69\144" => $uniacid]); return false == $res ? [] : $res; } public static function create($uniacid, $data) { goto JgQfv; dg9_i: return pdo_insert(self::$table, $data); goto DBhcn; Q8n6E: $data["\151\156\163\145\162\x74\137\164\151\155\x65"] = date("\x59\x2d\x6d\55\144\x20\110\72\151\72\163"); goto G1LwH; G1LwH: $data["\x66\x72\145\145\137\x63\x6f\x75\156\x74"] = $data["\143\157\x75\156\x74"]; goto dg9_i; JgQfv: $data["\165\x6e\151\141\143\x69\x64"] = $uniacid; goto Q8n6E; DBhcn: } public static function update($id, $uniacid, $data) { $data["\x75\160\144\141\x74\x65\x5f\164\x69\155\x65"] = date("\131\55\x6d\55\144\40\110\x3a\x69\72\x73"); return pdo_update(self::$table, $data, ["\x69\144" => $id, "\165\156\151\x61\x63\151\x64" => $uniacid]); } public static function getByIds($uniacid, $ids, $fields = array()) { goto S5mxj; pTKnI: $where = ["\x75\x6e\151\141\143\151\144" => $uniacid, "\151\144" => $ids]; goto IDDFM; S5mxj: $sel_fields = !empty($fields) ? $fields : self::$allFields; goto pTKnI; ASdQ1: return false == $res ? [] : $res; goto TUOGi; IDDFM: $res = pdo_getall(self::$table, $where, $sel_fields); goto ASdQ1; TUOGi: } public static function decrFreeCount($uniacid, $id, $num = 1) { goto D2cYd; D2cYd: $data = ["\x66\x72\145\x65\137\143\157\165\156\x74\x20\55\x3d" => $num]; goto rp3Jb; rp3Jb: $where = compact("\165\x6e\x69\141\143\x69\144", "\x69\x64"); goto J4q2o; J4q2o: return pdo_update(self::$table, $data, $where); goto irQx0; irQx0: } public static function deleteGood($uniacid, $id) { return pdo_delete(self::$table, ["\165\x6e\x69\141\x63\151\144" => $uniacid, "\151\x64" => $id]); } }