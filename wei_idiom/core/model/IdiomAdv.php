<?php
 class IdiomAdv { private static $table = "\167\145\151\x5f\x69\x64\151\x6f\x6d\137\x61\x64\x76"; private static $allFields = array("\151\144", "\165\156\151\141\x63\x69\x64", "\156\141\x6d\x65", "\x64\145\163\143\x72\x69\160\x74\x69\x6f\156", "\151\155\x61\x67\x65", "\141\x70\160\151\144", "\x70\x61\164\x68", "\x69\x6e\x73\x65\x72\164\137\x74\151\x6d\145", "\x75\x70\144\x61\164\145\137\164\151\x6d\x65", "\163\x74\141\164\165\x73"); private static $front_fields = array("\151\144", "\x6e\141\155\x65", "\144\x65\163\143\162\151\x70\164\151\157\156", "\x69\x6d\141\x67\145", "\141\160\x70\x69\x64", "\160\x61\164\150"); const STATUS_ON = 1; const STATUS_OFF = 0; public static function getMobileAdvList($uniacid) { goto Gf8fk; Gf8fk: $where = ["\165\156\151\x61\x63\x69\144" => $uniacid, "\163\x74\x61\164\165\x73" => self::STATUS_ON]; goto smsOO; q30e1: return false == $list ? [] : $list; goto qbRUr; smsOO: $list = pdo_getall(self::$table, $where, self::$front_fields, '', "\151\x64\40\101\x53\x43", "\114\111\x4d\x49\x54\40\x34"); goto q30e1; qbRUr: } public static function getMobileAdvAll($uniacid) { goto YkeJ1; YkeJ1: $where = ["\x75\156\x69\x61\143\151\x64" => $uniacid, "\163\164\x61\x74\x75\x73" => self::STATUS_ON]; goto FBbnb; FBbnb: $list = pdo_getall(self::$table, $where, self::$front_fields, '', "\x69\x64\x20\x41\123\x43"); goto Xj6dk; Xj6dk: return false == $list ? [] : $list; goto PWMpp; PWMpp: } public static function getAdv($uniacid, $id) { $res = pdo_get(self::$table, ["\165\x6e\151\141\143\x69\x64" => $uniacid, "\151\x64" => $id], self::$allFields); return false == $res ? [] : $res; } public static function getAdvList($uniacid, $pageIndex, $pageSize) { goto ZOxzX; ZOxzX: $start = ($pageIndex - 1) * $pageSize; goto T82Ty; T82Ty: $res = pdo_getall(self::$table, ["\x75\x6e\x69\x61\143\151\x64" => $uniacid], self::$allFields, '', "\151\144\40\104\105\123\103", "{$start}\54{$pageSize}"); goto w_9H2; w_9H2: return false == $res ? [] : $res; goto UV4vR; UV4vR: } public static function getAdvCount($uniacid) { $where = ["\165\x6e\x69\x61\143\x69\x64" => $uniacid]; return pdo_count(self::$table, $where); } public static function create($uniacid, $data) { goto vd4Yn; NLDZN: return pdo_insert(self::$table, $data); goto rJSa9; vd4Yn: $data["\x75\x6e\x69\x61\143\x69\x64"] = $uniacid; goto UbEBU; UbEBU: $data["\x69\156\163\145\x72\x74\x5f\164\x69\155\x65"] = date("\131\55\155\55\x64\40\x48\72\151\x3a\163"); goto NLDZN; rJSa9: } public static function update($uniacid, $id, $data) { $data["\165\x70\x64\x61\x74\145\x5f\x74\151\x6d\x65"] = date("\x59\x2d\x6d\55\x64\40\x48\72\x69\x3a\163"); return pdo_update(self::$table, $data, ["\165\x6e\151\141\143\151\x64" => $uniacid, "\x69\x64" => $id]); } public static function delete($uniacid, $id) { $where = ["\x75\x6e\151\x61\x63\x69\x64" => $uniacid, "\x69\144" => $id]; return pdo_delete(self::$table, $where); } }