<?php
 goto OryEr; OryEr: defined("\x49\x4e\x5f\111\101") or exit("\x41\x63\143\145\x73\x73\40\104\145\156\151\145\144"); goto LPYHy; LPYHy: define("\x4d\131\137\x4d\x4f\104\125\x4c\x45\x5f\122\x4f\x4f\124", IA_ROOT . "\57\x61\144\x64\x6f\156\163\x2f\167\145\151\137\x69\x64\151\x6f\155"); goto qnvS3; qnvS3: class Wei_idiomModuleWxapp extends WeModuleWxapp { const V = "\61\x2e\x31\x2e\65"; public function __construct() { include_once MY_MODULE_ROOT . "\57\143\157\x72\145\x2f\x66\165\156\x63\57\x66\165\x6e\143\164\151\157\156\x2e\x70\x68\x70"; self::register(); } public static function register() { spl_autoload_register("\x6c\x6f\x61\144\115\x6f\x64\145\154"); spl_autoload_register("\154\x6f\141\x64\x55\x74\x69\x6c\163"); } public function doPageLogin() { goto cdoh3; cdoh3: global $_W; goto zx_uQ; JYqRn: IQ690: goto uRzKl; x88RJ: if (!empty($user)) { goto IQ690; } goto xebzV; w0BE3: response(0, "\347\231\273\345\xbd\225\xe6\x88\x90\xe5\212\237", $user); goto NoVzJ; zx_uQ: $user = IdiomUser::getUser($_W["\165\x6e\151\141\143\x69\144"], $_W["\157\160\145\156\x69\144"]); goto x88RJ; uRzKl: $user = convertBalance($user); goto w0BE3; xebzV: response(-1, "\xe6\xb2\241\xe6\x9c\x89"); goto JYqRn; NoVzJ: } public function doPageInfo() { goto n0a4z; slqOS: $realname = trim($_GPC["\162\x65\141\154\x6e\x61\x6d\145"]); goto HbG3p; zKwTi: if (!(!isset($_GPC["\x6d\x6f\x62\151\154\x65"]) || empty($_GPC["\155\157\x62\x69\x6c\x65"]))) { goto gKWXP; } goto VnT0r; n0a4z: global $_W, $_GPC; goto X30CP; BPa39: $user = IdiomUser::getUser($_W["\165\x6e\151\x61\x63\151\x64"], $_W["\157\x70\x65\x6e\x69\144"]); goto CpSyT; VnT0r: response(-1, "\346\x89\213\346\234\xba\xe5\x8f\xb7\347\274\272\345\xa4\261"); goto kQ0WB; m3Nu3: response(-1, "\346\x9b\xb4\xe6\226\260\xe5\xa4\xb1\350\264\xa5"); goto B3uR5; kQ0WB: gKWXP: goto Zi4ln; X30CP: if (!(!isset($_GPC["\162\145\141\154\156\141\x6d\145"]) || empty($_GPC["\x72\145\x61\154\156\141\155\145"]))) { goto kSEHL; } goto e73ri; AwvNU: $res = IdiomUser::updateByOpenid($_W["\x75\x6e\151\141\143\151\144"], $_W["\x6f\160\x65\x6e\151\144"], $pairs); goto gHaIG; Zi4ln: if (!(!isset($_GPC["\x77\x78\x69\x64"]) || empty($_GPC["\x77\170\x69\144"]))) { goto N2LQs; } goto qKQuE; B3uR5: mYWNV: goto BPa39; uHS6W: kSEHL: goto zKwTi; w6DxC: $pairs = compact("\162\x65\x61\x6c\156\141\155\145", "\x6d\157\x62\151\154\x65", "\167\170\151\144"); goto AwvNU; ohIPj: $wxid = trim($_GPC["\167\170\151\144"]); goto w6DxC; gHaIG: if (!(false == $res)) { goto mYWNV; } goto m3Nu3; qKQuE: response(-1, "\xe5\xbe\256\xe4\277\241\345\217\267\xe7\xbc\xba\345\244\261"); goto hbcom; hbcom: N2LQs: goto slqOS; e73ri: response(-1, "\xe5\247\223\345\x90\x8d\xe7\274\272\xe5\244\xb1"); goto uHS6W; CpSyT: response(0, "\x6f\x6b", $user); goto CbL0G; HbG3p: $mobile = trim($_GPC["\155\x6f\x62\x69\154\145"]); goto ohIPj; CbL0G: } public function doPageRegister() { goto QEscK; K64CI: response(-1, "\346\263\250\xe5\206\x8c\xe5\xa4\xb1\xe8\264\245"); goto Db47F; WG0DK: $user = IdiomUser::create($_W["\x75\x6e\151\141\143\x69\144"], $_W["\x6f\x70\x65\x6e\151\144"], $fans, $vid, $setting["\x72\145\147\x69\x73\164\x65\162\137\x67\157\154\x64"]); goto xlb0B; FQkD2: JFI_3: goto lGEPS; SVpQz: $fans = ["\x6e\x69\143\x6b\156\141\155\x65" => trim($_GPC["\x6e\x69\143\153\x4e\x61\x6d\x65"]), "\x68\145\141\144\x69\x6d\x67\165\162\154" => trim($_GPC["\x61\166\141\x74\x61\162\x55\162\154"]), "\147\x65\156\144\x65\162" => trim($_GPC["\x67\145\x6e\x64\x65\x72"])]; goto hDzCB; FAqYP: $user = convertBalance($user); goto FxWTP; b8AFE: response(-1, "\xe7\xb3\xbb\xe7\xbb\x9f\347\xb9\x81\xe5\xbf\x99"); goto axnfI; qv2zx: if (!(!isset($_W["\x6f\160\x65\156\x69\x64"]) || empty($_W["\157\160\145\x6e\x69\x64"]))) { goto pJniv; } goto b8AFE; Db47F: ruaZ9: goto FAqYP; lJ2wI: RjMdW: goto qv2zx; UhWCm: if (!empty($user)) { goto pKy2E; } goto MRw_C; xlb0B: if (!($vid > 0)) { goto viiWJ; } goto XJqe0; MRw_C: $setting = IdiomSetting::getSetting($_W["\x75\156\x69\141\x63\x69\144"]); goto WG0DK; hDzCB: $vid = 0; goto JAnvS; QEscK: global $_W, $_GPC; goto SVpQz; JAnvS: if (!(isset($_GPC["\166\x69\x64"]) && !empty($_GPC["\166\151\144"]))) { goto RjMdW; } goto jHPzI; jHPzI: $vid = intval($_GPC["\x76\151\144"]); goto lJ2wI; XJqe0: if (!(!empty($setting) && $setting["\x70\145\162\x5f\x69\x6e\x76\151\x74\x65\137\147\x6f\154\144"] > 0)) { goto JFI_3; } goto xvJbk; xvJbk: IdiomUser::incrGoldNumAndInviteNum($_W["\x75\x6e\x69\x61\143\x69\x64"], $vid, $setting["\160\145\x72\x5f\x69\x6e\x76\151\x74\145\x5f\147\x6f\154\x64"]); goto FQkD2; lGEPS: viiWJ: goto eDJRe; eDJRe: pKy2E: goto yVWjk; WhRao: $user = IdiomUser::getUser($_W["\165\x6e\x69\141\x63\x69\x64"], $_W["\x6f\160\x65\x6e\151\x64"]); goto UhWCm; axnfI: pJniv: goto WhRao; FxWTP: response(0, "\x6f\x6b", $user); goto GgkM4; yVWjk: if (!(false == $user)) { goto ruaZ9; } goto K64CI; GgkM4: } public function doPageConfig() { goto dthP3; N0epI: $share = IdiomShare::getShareConf($_W["\165\x6e\151\141\x63\x69\144"]); goto B1lR7; J85eG: if (!(!empty($setting) && !empty($setting["\x68\x65\x61\x64\x65\x72\x5f\151\x6d\x67"]))) { goto M6hgb; } goto iQsbo; iQsbo: $setting["\x68\x65\x61\x64\145\162\x5f\151\155\147"] = tomedia($setting["\150\x65\x61\x64\x65\x72\137\x69\x6d\147"]); goto xjMzg; IuLxu: d99d_: goto osZfs; xjMzg: M6hgb: goto pA5po; pA5po: if (!(!empty($setting) && !empty($setting["\150\x65\141\x64\145\x72\x5f\151\x6d\x67"]))) { goto d99d_; } goto R9bVV; DwRbw: jPs7c: goto N0epI; eJA4t: $setting["\x67\172\150\137\151\x6d\147"] = tomedia($setting["\147\172\x68\137\151\155\147"]); goto p2InY; osZfs: if (!(!empty($setting) && !empty($setting["\x67\172\x68\x5f\151\155\x67"]))) { goto qkQZZ; } goto eJA4t; upjXi: $logs = IdiomVideoLog::getUserTodayLog($_W["\165\x6e\151\x61\143\x69\x64"], $_W["\157\160\145\x6e\x69\144"]); goto hKuqC; owxCY: !empty($adv_list) && ($adv_list = idiomTomediaList($adv_list, "\x69\155\141\x67\x65")); goto M1jZC; B1lR7: $adv_list = IdiomAdv::getMobileAdvList($_W["\165\156\x69\141\x63\x69\144"]); goto owxCY; DvgqZ: $setting["\x76\x69\x64\x65\x6f\x5f\x61\144\x5f\163\164\141\x74\165\x73"] = IdiomSetting::VIDEO_AD_OFF; goto DwRbw; O33GK: d5u9e: goto upjXi; P2Jsp: $setting = IdiomSetting::getFrontConfig($_W["\x75\156\151\x61\x63\x69\144"]); goto J85eG; M1jZC: response(0, "\350\x8e\267\345\217\x96\346\210\220\xe5\x8a\x9f", ["\163\145\x74\164\151\x6e\x67" => ["\x73\x74\141\164\165\163" => empty($setting) ? false : true, "\x64\x61\x74\141" => $setting], "\x73\150\x61\x72\145" => $share, "\141\144\x76" => ["\163\x74\x61\164\165\x73" => !empty($adv_list), "\x64\x61\164\x61" => $adv_list], "\x6d\x70\x33" => ["\143\x6f\162\x72\145\x63\x74" => $_W["\163\151\164\145\x72\x6f\x6f\164"] . "\57\x61\144\x64\157\156\x73\57\167\145\151\137\151\x64\151\157\x6d\x2f\143\x6f\x72\x65\x2f\163\x74\141\164\x69\x63\57\155\x70\63\x2f\x63\x6f\x72\x72\56\x6d\x70\x33"]]); goto LZtWo; R9bVV: $setting["\150\x65\x61\x64\x65\162\x5f\151\x6d\x67"] = tomedia($setting["\150\145\141\x64\145\x72\x5f\151\x6d\147"]); goto IuLxu; MmlXs: $setting["\x67\172\x68\137\x65\x77\155\x5f\151\155\147"] = tomedia($setting["\x67\172\150\x5f\145\x77\x6d\x5f\151\155\147"]); goto O33GK; FO2dA: if (!(!empty($setting) && !empty($setting["\x67\x7a\x68\x5f\145\167\155\137\x69\x6d\x67"]))) { goto d5u9e; } goto MmlXs; p2InY: qkQZZ: goto FO2dA; dthP3: global $_W; goto P2Jsp; hKuqC: if (!(sizeof($logs) >= $setting["\x64\x61\x79\137\166\x69\x64\145\157\x5f\x6e\x75\155"])) { goto jPs7c; } goto DvgqZ; LZtWo: } public function doPageGoods() { goto la6PX; la6PX: global $_W; goto pWqy2; dILBO: if (empty($list)) { goto lwOUi; } goto na5si; na5si: $list = idiomTomediaList($list, "\151\x6d\x61\x67\145"); goto wG_gm; pWqy2: $list = IdiomGoods::getAllGoods($_W["\165\x6e\151\x61\143\151\x64"]); goto dILBO; Vmyh8: response(0, "\x6f\x6b", $list, false); goto x0SA5; wG_gm: lwOUi: goto Vmyh8; x0SA5: } private function checkCode($code) { goto AMiU7; zdavK: IGG3M: goto mLRQ3; HGxD5: load()->func("\143\157\x6d\155\165\x6e\x69\143\141\164\151\x6f\156"); goto VdkHe; r3zQn: $res = json_decode($response["\x63\x6f\156\x74\145\x6e\164"], true); goto Fiiug; y_K4R: return false; goto wkFiC; tK3OY: return false; goto C0pQl; knTSc: if (!(!isset($response["\x63\x6f\x6e\164\145\x6e\x74"]) || empty($response["\x63\x6f\x6e\x74\x65\156\164"]))) { goto Ys2jQ; } goto e285y; XDlkV: $response = ihttp_get($url); goto knTSc; mLRQ3: if (!(isset($res["\x65\x72\162\x63\157\x64\x65"]) && $res["\145\x72\x72\x63\157\x64\x65"] == -1)) { goto zCG30; } goto O393U; wkFiC: sAAZx: goto r3zQn; O393U: return true; goto Sr7hE; FQTH1: Ys2jQ: goto IGyOu; e285y: return false; goto FQTH1; AMiU7: global $_W; goto HGxD5; QW1Fu: $url = "\150\x74\164\160\163\72\57\x2f\x61\x70\x69\x2e\x77\145\151\170\151\x6e\56\161\x71\x2e\x63\157\x6d\57\x73\156\x73\x2f\152\163\x63\x6f\144\x65\62\x73\145\x73\163\x69\157\156\x3f\141\x70\x70\x69\x64\x3d{$account["\x6b\145\x79"]}\46\x73\145\143\162\x65\x74\75{$account["\x73\x65\x63\x72\145\164"]}\x26\152\x73\137\x63\157\x64\x65\x3d{$code}\46\147\x72\x61\x6e\164\137\164\x79\160\145\x3d\x61\165\x74\150\x6f\x72\x69\172\x61\x74\x69\157\156\x5f\x63\x6f\144\x65"; goto XDlkV; Fiiug: if (!(isset($res["\x6f\x70\145\156\x69\144"]) && isset($res["\x73\145\x73\163\151\157\156\x5f\x6b\145\171"]))) { goto IGG3M; } goto Dyric; VdkHe: $account = $_W["\x61\x63\x63\x6f\x75\x6e\x74"]->account; goto QW1Fu; Dyric: return true; goto zdavK; Sr7hE: zCG30: goto tK3OY; IGyOu: if (is_string($response["\143\157\156\164\x65\156\164"])) { goto sAAZx; } goto y_K4R; C0pQl: } public function doPageExchange() { goto xGEro; BLHQW: mMjcd: goto FBBl1; V0MBL: e0Uvc: goto UTP7I; FBBl1: $goods_res = IdiomGoods::decrFreeCount($_W["\x75\156\151\141\143\x69\144"], $goods["\x69\144"]); goto mfnL3; Jw9Im: $form_id = isset($_GPC["\146\x6f\x72\155\x5f\151\x64"]) ? trim($_GPC["\x66\157\162\155\x5f\x69\x64"]) : ''; goto bejg8; vNHNE: fNQ8o: goto w5Q2X; gQ72s: pdo_commit(); goto MLThi; PmRfN: $order_sn = buildOrderNo(); goto t8riG; we9Ya: IdiomRateLimit::unlock(); goto XZbEF; nK4uO: nKeSZ: goto zKXR8; yMCDF: response(-1, "\xe6\240\xa1\351\xaa\214\345\xa4\261\xe8\264\245"); goto vNHNE; QOqnA: pdo_rollback(); goto L3h7p; xGEro: global $_W, $_GPC; goto W_0Lh; t8riG: pdo_begin(); goto hKFdb; AfuYn: response(0, "\157\153"); goto JUDjd; w5Q2X: $goods_id = intval($_GPC["\147\x6f\157\x64\x73\x5f\151\x64"]); goto Jw9Im; qvaLV: if (!(false == $order_res)) { goto mMjcd; } goto aPy6y; L3h7p: IdiomRateLimit::unlock(); goto rePXc; PV1MW: IdiomRateLimit::unlock(); goto Z6Tii; hKFdb: $order_res = IdiomOrder::create($_W["\x75\156\151\141\143\x69\x64"], $user["\157\160\x65\x6e\x69\144"], $order_sn, $goods_id, $form_id, $goods["\156\x61\x6d\145"], $goods["\x70\162\151\143\x65"]); goto qvaLV; mfnL3: if (!(false == $goods_res)) { goto DBlMW; } goto QOqnA; m_Evf: if (!($goods["\160\x72\151\x63\x65"] * 100 > $user["\142\141\x6c\141\x6e\143\x65"])) { goto nKeSZ; } goto UVncv; XZbEF: response(-1, "\347\xb3\xbb\347\273\x9f\347\271\201\345\xbf\x99\x31"); goto BLHQW; c524Z: pdo_rollback(); goto PV1MW; Wpesr: if (!(false == $user_res)) { goto Edin0; } goto c524Z; ydIBz: $user_res = IdiomUser::decrUserBalance($_W["\165\x6e\x69\141\x63\151\x64"], $_W["\x6f\160\x65\x6e\151\x64"], $goods["\x70\x72\x69\143\x65"] * 100); goto Wpesr; M8oLZ: response(-1, "\345\272\x93\xe5\xad\x98\xe4\270\x8d\xe8\266\xb3"); goto V0MBL; MLThi: IdiomRateLimit::unlock(); goto AfuYn; rePXc: response(-1, "\xe7\xb3\273\xe7\xbb\x9f\347\xb9\201\345\277\231\62"); goto RUv7E; zKXR8: IdiomRateLimit::lock($_W["\x6f\x70\145\156\x69\144"]); goto PmRfN; Z6Tii: response(-1, "\347\xb3\273\347\xbb\237\xe7\271\x81\345\xbf\x99\63"); goto t0xA7; ScMJe: if (!(intval($goods["\x66\162\x65\145\137\x63\157\165\156\x74"]) <= 0)) { goto e0Uvc; } goto M8oLZ; W_0Lh: if (!(!isset($_GPC["\147\157\157\x64\163\137\151\144"]) || empty($_GPC["\147\157\x6f\144\x73\137\151\144"]) || !is_numeric($_GPC["\x67\x6f\x6f\x64\x73\x5f\151\x64"]))) { goto fNQ8o; } goto yMCDF; UTP7I: $user = IdiomUser::getUser($_W["\x75\x6e\151\141\143\151\x64"], $_W["\157\x70\145\156\151\x64"]); goto m_Evf; aPy6y: pdo_rollback(); goto we9Ya; bejg8: $goods = IdiomGoods::getGoodById($_W["\165\156\151\x61\x63\x69\x64"], $goods_id); goto ScMJe; RUv7E: DBlMW: goto ydIBz; UVncv: response(-1, "\344\275\x99\xe9\242\x9d\xe4\xb8\215\350\xb6\xb3"); goto nK4uO; t0xA7: Edin0: goto gQ72s; JUDjd: } public function doPageRecord() { goto dYIYS; PbZsG: $list = convertIdiomOrder($list); goto Pt91h; DbvcP: if (empty($list)) { goto YUPDl; } goto PbZsG; Pt91h: YUPDl: goto pI9k1; xz42o: $list = IdiomOrder::getMyOrder($_W["\x6f\x70\145\x6e\151\144"], $_W["\165\x6e\x69\x61\143\151\x64"]); goto DbvcP; dYIYS: global $_W; goto xz42o; pI9k1: response(0, "\350\216\xb7\345\217\226\xe6\210\220\xe5\x8a\x9f", $list, false); goto XjzwF; XjzwF: } public function doPageSendReward() { goto AwAAq; Q0tVu: response(0, "\157\x6b", ["\x73\150\x6f\x77\137\x76\151\144\145\157" => sizeof($list) + 1 < $setting["\144\x61\171\x5f\166\151\144\x65\157\x5f\156\165\x6d"]]); goto XZmkZ; SBWQO: IdiomRateLimit::unlock(); goto PI0bV; JNh0D: OnZjF: goto a8MJE; fXyFZ: if (!($_GPC["\x76"] == self::V)) { goto IfhzT; } goto Hsc4d; Bg9dV: $last = $list[0]; goto BH3hf; AwAAq: global $_W, $_GPC; goto vjPua; wtUtL: pdo_begin(); goto D52TB; Y4_hy: $list = IdiomVideoLog::getUserTodayLog($_W["\x75\156\151\141\143\x69\x64"], $_W["\157\160\145\x6e\x69\144"]); goto JgSGT; sXWYl: $check_res = $this->checkCode($_GPC["\x63\x6f\144\145"]); goto UGz4X; JJNSf: response(-1, "\346\x9c\xaa\xe5\xbc\x80\xe5\x90\xaf\xe8\247\x86\xe9\xa2\x91\xe5\245\226\xe5\212\261"); goto wKZiz; HxiXV: response(-1, "\346\x9c\xaa\xe8\xae\xbe\347\xbd\256\345\xa5\226\345\212\261\351\x87\x91\345\xb8\x81"); goto xtR9L; c6Z3C: response(-1, "\xe6\240\xa1\351\252\x8c\xe5\244\261\350\xb4\245"); goto Ch18U; J5NJA: pdo_rollback(); goto s7c5p; xtR9L: k3g4w: goto fXyFZ; HE8YN: IdiomRateLimit::unlock(); goto arHli; BNTlK: if (!(false == $res || false == $log_res)) { goto ORAGf; } goto J5NJA; JfL5k: IdiomRateLimit::unlock(); goto qZlMZ; RXARK: if (!(sizeof($list) >= $setting["\144\141\x79\x5f\x76\151\144\145\157\x5f\156\x75\155"])) { goto OnZjF; } goto JfL5k; D52TB: $res = IdiomUser::incrGoldNumById($_W["\x75\x6e\151\141\x63\x69\x64"], $user["\151\x64"], $setting["\x70\x65\x72\137\166\151\x64\145\157\137\147\157\x6c\x64"]); goto O_35f; ynF5m: if (!($setting["\160\x65\x72\137\166\151\144\x65\x6f\137\x67\x6f\x6c\144"] <= 0)) { goto k3g4w; } goto gdCIy; xYqZE: $setting = IdiomSetting::getSetting($_W["\165\x6e\151\x61\x63\x69\144"]); goto akLn_; i4_aZ: if (!(!isset($_GPC["\143\157\x64\145"]) || empty($_GPC["\x63\x6f\x64\145"]))) { goto bciLJ; } goto SBWQO; VL72m: IdiomRateLimit::unlock(); goto Q0tVu; QhGe3: if (!empty($user)) { goto tXXqO; } goto KeV8J; a8MJE: e9O05: goto wtUtL; vrtIA: IdiomRateLimit::unlock(); goto JJNSf; wKZiz: K69LN: goto VQNc1; qZlMZ: response(-1, "\xe4\273\x8a\xe6\x97\245\345\xb7\xb2\350\xbe\xbe\xe4\xb8\212\xe9\x99\220"); goto JNh0D; akLn_: if (!empty($setting)) { goto L4i6W; } goto HE8YN; Uq05f: tXXqO: goto xYqZE; O_35f: $log_res = IdiomVideoLog::add($_W["\x75\156\x69\x61\143\151\x64"], $_W["\157\x70\x65\x6e\x69\144"]); goto BNTlK; KeV8J: IdiomRateLimit::unlock(); goto LXoJ7; W4zwC: ORAGf: goto qmNS8; wLxV4: response(-1, "\346\202\240\347\235\x80\xe7\x82\271"); goto ysD4M; r0_me: L4i6W: goto ynF5m; VQNc1: IfhzT: goto mhSUa; ubM7k: response(-1, "\347\xb3\xbb\347\xbb\x9f\xe7\xb9\201\345\xbf\231"); goto W4zwC; y7Dy9: bciLJ: goto sXWYl; ysD4M: NT_hm: goto RXARK; UGz4X: if (!(false == $check_res)) { goto ULnV6; } goto AikjE; lCuv8: YfmG3: goto Y4_hy; mhSUa: if (!($setting["\x76\151\x64\x65\157\137\163\x74\162\x6f\x6e\x67\x5f\143\150\145\x63\x6b"] == IdiomSetting::VIDEO_STRONG_CHECK_ON)) { goto YfmG3; } goto i4_aZ; Ch18U: ULnV6: goto lCuv8; AikjE: IdiomRateLimit::unlock(); goto c6Z3C; arHli: response(-1, "\xe9\205\215\347\275\256\xe4\270\242\xe5\xa4\261"); goto r0_me; s7c5p: IdiomRateLimit::unlock(); goto ubM7k; vjPua: IdiomRateLimit::lock($_W["\x6f\160\145\156\x69\144"]); goto dUfQe; LXoJ7: response(-1, "\xe7\224\xa8\346\x88\267\xe4\270\215\xe5\xad\230\345\234\xa8"); goto Uq05f; PI0bV: response(-1, "\346\xa0\xa1\351\252\214\xe5\244\261\xe8\264\xa5"); goto y7Dy9; qmNS8: pdo_commit(); goto VL72m; gdCIy: IdiomRateLimit::unlock(); goto HxiXV; qghLB: IdiomRateLimit::unlock(); goto wLxV4; dUfQe: $user = IdiomUser::getUser($_W["\165\x6e\x69\x61\x63\151\x64"], $_W["\157\x70\145\156\x69\144"]); goto QhGe3; BH3hf: if (!(time() - strtotime($last["\x69\x6e\163\x65\x72\164\x5f\164\x69\x6d\145"]) <= 6)) { goto NT_hm; } goto qghLB; JgSGT: if (empty($list)) { goto e9O05; } goto Bg9dV; Hsc4d: if (!($setting["\x76\151\x64\x65\x6f\137\141\x64\137\163\164\x61\x74\165\163"] == IdiomSetting::VIDEO_AD_OFF)) { goto K69LN; } goto vrtIA; XZmkZ: } public function doPageTopics() { goto iEaP2; iEaP2: global $_W, $_GPC; goto L1ON1; C0ohr: $topics = convertTopics($topics); goto CR43I; CR43I: response(0, "\x6f\153", $topics, false); goto loqVC; L1ON1: $topics = IdiomTopic::getTopic5($_W["\x75\156\151\141\143\151\x64"], $_W["\157\160\x65\156\151\x64"]); goto C0ohr; loqVC: } public function doPageCheck() { goto eJrMN; uusYi: if (!($rand <= intval($nowLaw["\160\162\x6f\x62\x61\x62\x69\x6c\x69\x74\x79"]))) { goto sRoJR; } goto nn7hG; rZBdJ: response(-2, "\344\xb8\215\346\255\xa3\xe7\xa1\xae"); goto M1ffG; f4IVA: response(0, "\x6f\x6b", ["\162\145\x64\x62\x61\x67" => ["\163\164\x61\x74\x75\163" => $send_money, "\x6b\x6b\x69\x64" => $kkid]]); goto snbSA; j7XDb: IdiomRateLimit::lock($_W["\157\160\x65\x6e\151\x64"]); goto QLekN; Bgxn_: response(-1, "\351\x85\x8d\347\xbd\xae\xe4\270\x8d\xe5\256\x8c\346\x95\264"); goto ri1l2; GZ1hT: pdo_rollback(); goto PVg7t; c2tW6: BPNDS: goto K88Mv; lY62B: jzmUl: goto EyaKF; aVrB2: response(-1, "\xe8\264\246\346\210\267\345\xb7\xb2\347\246\201\347\224\250"); goto XaJk0; VmXTV: response(-1, "\xe7\224\250\xe6\x88\xb7\xe4\270\x8d\xe5\255\x98\345\x9c\250"); goto HFddg; ypk6V: pdo_commit(); goto rZBdJ; r3oPn: if (!empty($topic)) { goto jzmUl; } goto en_iH; kWyEE: if (!(false == $gold_res)) { goto SF41O; } goto Gb3Ip; mtq7B: pdo_begin(); goto SGzoW; QKqZX: (empty($_GPC["\164\157\160\x69\x63\x5f\151\144"]) || empty($_GPC["\162\145\x73\137\151\156\x64\x65\x78"]) && !is_numeric($_GPC["\162\x65\x73\x5f\x69\x6e\144\145\x78"])) && response(-1, "\345\217\202\xe6\x95\260\347\xbc\272\345\xa4\261"); goto j7XDb; erugH: dmiUY: goto ahUKe; VvqLy: $topic = IdiomTopic::getById($_GPC["\164\157\x70\x69\x63\137\151\x64"]); goto r3oPn; eJrMN: global $_W, $_GPC; goto QKqZX; kAmuM: $kkid = md5(nonce_str() . time()); goto Gjy06; SGzoW: $gold_res = IdiomUser::decrUserGoldNum($_W["\165\x6e\x69\141\143\x69\x64"], $_W["\x6f\x70\x65\x6e\151\x64"], $setting["\x70\145\x72\137\147\x75\x65\x73\163\x5f\x67\x6f\x6c\144"]); goto kWyEE; fSrS2: $kkid = ''; goto jDJqd; Wp783: $nowLaw = IdiomLaw::getByBalance($_W["\x75\x6e\x69\x61\143\x69\144"], $user["\141\x6c\x6c\137\147\145\x74\137\142\141\x6c\x61\156\143\145"] / 100); goto wcxZH; Dh5L9: pdo_rollback(); goto vjnyu; ahUKe: CZQd_: goto mtq7B; yNB7l: $rand = mt_rand(1, 100); goto uusYi; PVg7t: response(-1, "\347\xb3\273\xe7\273\237\347\xb9\201\345\xbf\x99"); goto UenAC; K88Mv: $send_money = false; goto Xh5C8; XaJk0: ThtNW: goto roYd5; biUmt: $money_log_res = true; goto fSrS2; tl1wT: if (!(false == $add_res || false == $money_log_res || false == $level_res)) { goto LZiXH; } goto uyL90; EgcZG: if (!($user["\x73\164\141\x74\x75\x73"] == IdiomUser::STATUS_FORBID)) { goto ThtNW; } goto Z3cok; WrtN9: IdiomRateLimit::unlock(); goto w0ww4; T4Uja: IdiomRateLimit::unlock(); goto ypk6V; CcgEZ: if (!(intval(($user["\x6c\x65\x76\145\x6c"] + 1) % $setting["\162\145\x64\142\x61\x67\137\x69\x6e\x74\145\x72\166\x61\154"]) == 0)) { goto CZQd_; } goto Wp783; UenAC: LZiXH: goto Z7nek; Z7nek: IdiomRateLimit::unlock(); goto hGsAJ; M1ffG: QW1jO: goto IWe35; roYd5: if (!($user["\147\x6f\154\x64\137\x6e\165\155"] < $setting["\160\145\x72\137\x67\165\x65\163\x73\x5f\x67\x6f\x6c\x64"])) { goto BPNDS; } goto WrtN9; veka6: yMjPG: goto KEPtS; vjnyu: response(-2, "\xe7\xb3\273\xe7\273\x9f\347\xb9\x81\345\277\x99"); goto R9Ctd; Xzoc9: if (!(false == $user)) { goto bVelD; } goto ab_1l; Xh5C8: $money = 0; goto CcgEZ; jDJqd: if (!$send_money) { goto yMjPG; } goto kAmuM; yjHKR: response(-1, "\351\xa2\230\xe7\x9b\xae\344\270\215\345\255\230\xe5\x9c\250"); goto lY62B; en_iH: IdiomRateLimit::unlock(); goto yjHKR; U0eH1: sRoJR: goto erugH; uKeU4: IdiomRateLimit::unlock(); goto Bgxn_; HFddg: bVelD: goto EgcZG; QLekN: $setting = IdiomSetting::getSetting($_W["\165\x6e\151\141\143\x69\144"]); goto dJxxU; uyL90: IdiomRateLimit::unlock(); goto GZ1hT; wcxZH: if (empty($nowLaw)) { goto dmiUY; } goto yNB7l; CbuzK: $send_money = true; goto U0eH1; IWe35: $add_res = IdiomAnswer::add($_W["\165\x6e\151\141\x63\151\144"], $_W["\157\x70\x65\156\151\x64"], $_GPC["\164\x6f\160\151\143\x5f\151\x64"]); goto biUmt; nn7hG: $money = randByLaw($nowLaw["\155\x6f\156\x65\171\137\x6d\x69\156"], $nowLaw["\155\x6f\156\x65\171\x5f\x6d\141\x78"]); goto CbuzK; Gb3Ip: IdiomRateLimit::unlock(); goto Dh5L9; Z3cok: IdiomRateLimit::unlock(); goto aVrB2; EyaKF: $user = IdiomUser::getUser($_W["\x75\156\151\141\143\x69\144"], $_W["\x6f\160\x65\156\x69\x64"]); goto Xzoc9; KEPtS: $level_res = IdiomUser::incrUserLevel($_W["\165\156\x69\x61\143\151\x64"], $user["\157\x70\145\156\151\x64"]); goto tl1wT; w0ww4: response(-1, "\xe9\x87\x91\345\xb8\x81\xe4\270\x8d\xe8\266\263"); goto c2tW6; Gjy06: $money_log_res = IdiomEgg::add($_W["\165\x6e\x69\x61\143\151\x64"], $user["\157\x70\145\156\151\x64"], $_GPC["\x74\157\160\x69\143\x5f\151\144"], $kkid, $money); goto veka6; hGsAJ: pdo_commit(); goto f4IVA; dJxxU: if (!(empty($setting) || $setting["\160\145\x72\x5f\x67\x75\x65\163\163\x5f\x67\x6f\x6c\x64"] == 0)) { goto I03xi; } goto uKeU4; R9Ctd: SF41O: goto KFCIn; KFCIn: if (!($_GPC["\x72\x65\163\x5f\x69\156\x64\x65\x78"] != $topic["\x72\x65\163\x5f\151\x6e\x64\x65\x78"])) { goto QW1jO; } goto T4Uja; ab_1l: IdiomRateLimit::unlock(); goto VmXTV; ri1l2: I03xi: goto VvqLy; snbSA: } public function doPageReceive() { goto Ojqbx; THPRL: Se8UX: goto jTnh1; HEXhn: response(-1, "\xe7\224\250\xe6\x88\xb7\xe4\xb8\215\345\255\x98\xe5\x9c\xa8"); goto S0bZP; DLoDt: response(-1, "\xe5\x8f\202\346\x95\xb0\347\274\272\345\244\xb1"); goto THPRL; JrwM2: response(-1, "\xe8\256\xb0\345\xbd\x95\xe4\xb8\215\xe5\xad\230\xe5\234\xa8"); goto Nvx8t; oOLPc: if (!(!isset($_GPC["\153\153\151\144"]) || empty($_GPC["\x6b\153\x69\x64"]))) { goto Se8UX; } goto DLoDt; A45JL: pdo_commit(); goto QsqDh; kRt7l: $num = $egg["\142\x61\154\141\x6e\x63\145"] * 100; goto g31D0; QsqDh: response(0, "\x6f\x6b", ["\162\x65\x64\142\141\x67" => ["\153\153\151\144" => $egg["\x6b\153\151\144"], "\x62\x61\154\141\156\143\x65" => $egg["\142\141\154\141\x6e\x63\x65"]]]); goto go2dm; b3Bjr: n9kKi: goto MrBLl; Ojqbx: global $_W, $_GPC; goto oOLPc; MrBLl: IdiomRateLimit::unlock(); goto A45JL; yvNJw: if (!(false == $egg_res || false == $user_res)) { goto n9kKi; } goto GP0nc; Nvx8t: d8UP0: goto v2edQ; GP0nc: IdiomRateLimit::unlock(); goto nn_zZ; fLuU1: $egg_res = IdiomEgg::updateById($_W["\165\156\x69\141\143\x69\144"], $egg["\x69\144"], ["\163\164\x61\164\x75\x73" => IdiomEgg::STATUS_USED]); goto kRt7l; Hjvn5: response(-1, "\347\xb3\273\347\xbb\x9f\xe7\271\201\345\xbf\x99"); goto b3Bjr; j2gab: pdo_begin(); goto fLuU1; nn_zZ: pdo_rollback(); goto Hjvn5; jTnh1: $user = IdiomUser::getUser($_W["\x75\x6e\x69\141\143\x69\144"], $_W["\157\160\x65\x6e\x69\144"]); goto jtlb2; CjiWF: $egg = IdiomEgg::getByOpenidKkid($_W["\165\x6e\151\x61\x63\x69\144"], $user["\157\x70\x65\156\151\x64"], $_GPC["\x6b\153\151\x64"]); goto pP0Bt; S0bZP: FuKMx: goto CjiWF; pP0Bt: if (!empty($egg)) { goto d8UP0; } goto JrwM2; jtlb2: if (!empty($user)) { goto FuKMx; } goto HEXhn; g31D0: $user_res = IdiomUser::incrUserBalance($_W["\165\x6e\151\x61\143\151\144"], $user["\x6f\160\x65\x6e\x69\144"], $num); goto yvNJw; v2edQ: IdiomRateLimit::lock($user["\157\160\x65\x6e\x69\144"]); goto j2gab; go2dm: } public function doPageRank() { goto g3b2Q; h_6eF: $list = IdiomUser::getInviteRank($_W["\x75\156\x69\x61\x63\x69\144"], $page, $page_size); goto vWyQl; mVztM: $user = IdiomUser::getUser($_W["\165\x6e\x69\141\x63\x69\x64"], $_W["\x6f\x70\x65\156\151\x64"]); goto iEr9v; SrylN: goto e7MJj; goto kInoc; ODjW_: if (!(!isset($_GPC["\141\x76"]) && $_GPC["\164\171\x70\145"] == "\x62\141\x6c\141\x6e\x63\x65")) { goto sVXKU; } goto nOzV3; YdWQv: PdFtX: goto JveNF; JveNF: if ($_GPC["\164\x79\160\x65"] == "\x6c\x65\x76\145\x6c") { goto ROuoN; } goto h_6eF; iEr9v: if (!empty($user)) { goto PdFtX; } goto dgIm4; vWyQl: $rank = IdiomUser::getMyInviteRank($_W["\x75\x6e\x69\141\143\151\x64"], $user["\x69\x6e\x76\151\x74\x65\x5f\156\x75\155"], $user["\151\x64"]); goto SrylN; LFbxi: $list = IdiomUser::getLevelRank($_W["\x75\x6e\x69\141\143\151\144"], $page, $page_size); goto w9aLO; A7UAo: empty($_GPC["\x70\x61\x67\x65"]) && response(-1, "\345\210\x86\351\xa1\xb5\xe7\xbc\272\xe5\xa4\xb1"); goto RWFee; z3DvY: $page_size = intval($_GPC["\x70\x61\147\x65\x5f\163\x69\172\145"]); goto mVztM; dhMgX: $page = intval($_GPC["\160\141\x67\x65"]); goto z3DvY; S4IE7: sVXKU: goto mPpEW; w9aLO: $rank = IdiomUser::getMyLevelRank($_W["\165\x6e\x69\x61\x63\x69\x64"], $user["\x6c\x65\166\145\154"], $user["\x69\x64"]); goto VEv_Y; g3b2Q: global $_W, $_GPC; goto qk5pN; RWFee: empty($_GPC["\160\141\x67\145\x5f\x73\151\x7a\145"]) && response(-1, "\351\241\265\xe7\xa0\201\xe7\274\272\345\244\xb1"); goto dhMgX; nOzV3: $user = convertBalance($user); goto S4IE7; qk5pN: (empty($_GPC["\x74\171\x70\x65"]) || !in_array($_GPC["\164\x79\160\145"], ["\154\x65\166\x65\154", "\x69\x6e\x76\151\164\x65"])) && response(-1, "\xe5\x8f\202\xe6\225\260\xe4\xb8\215\345\220\210\xe6\xb3\x95"); goto A7UAo; kInoc: ROuoN: goto LFbxi; rJ7gR: response(0, "\x6f\153", ["\x6c\151\x73\x74" => $list, "\x6d\x6f\x72\145" => $more, "\x74\171\160\145" => $_GPC["\x74\171\x70\x65"], "\x6d\171\x49\156\x66\x6f" => ["\x72\141\x6e\x6b" => $rank + 1, "\x69\x6e\x66\x6f" => ["\x6c\145\166\145\x6c" => $user["\x6c\x65\x76\x65\154"], "\151\156\x76\x69\x74\145\x5f\x6e\165\155" => $user["\151\x6e\x76\x69\164\x65\x5f\156\165\x6d"]]]]); goto DAxI1; VEv_Y: e7MJj: goto ODjW_; mPpEW: $more = count($list) == 10; goto rJ7gR; dgIm4: $user = ["\x69\144" => 100000000, "\154\145\166\x65\154" => 0, "\151\x6e\166\151\164\x65\x5f\x6e\x75\x6d" => 0]; goto YdWQv; DAxI1: } public function doPageMyInvite() { goto ySVFu; itQQb: response(0, "\157\x6b", ["\x6c\x69\x73\164" => $list]); goto K3zVI; DBaSX: $user = IdiomUser::getUser($_W["\165\x6e\151\141\143\x69\x64"], $_W["\x6f\160\145\x6e\151\144"]); goto eNkUY; eNkUY: $list = IdiomUser::getMyInvite($user["\x75\x6e\151\x61\143\x69\x64"], $user["\151\144"]); goto itQQb; ySVFu: global $_W; goto DBaSX; K3zVI: } public function doPageBroad() { goto SYMgx; QNirf: if (empty($list)) { goto zJ3tl; } goto Lozue; rJfRI: zJ3tl: goto ILnJX; JJOpP: foreach ($list as $k => $v) { goto GdNaz; lILXF: Njkp9: goto R6Rqi; Q5NBN: $list[$k]["\x6e\x69\143\x6b\156\x61\x6d\145"] = my_mb_substr($v["\165\x73\145\162"]["\x6e\x69\143\x6b\156\x61\x6d\145"], 0, 5, "\x75\164\x66\x2d\x38") . "\x2a\52"; goto dwEsZ; p3zCi: FRUH0: goto Q5NBN; dwEsZ: Cas_x: goto lILXF; GdNaz: if (strlen($v["\x75\x73\145\x72"]["\156\x69\143\x6b\156\x61\155\x65"]) > 8) { goto FRUH0; } goto slRvl; slRvl: $list[$k]["\156\x69\143\153\156\141\x6d\145"] = $v["\x75\x73\x65\162"]["\x6e\151\143\x6b\x6e\141\x6d\x65"]; goto ADdgu; ADdgu: goto Cas_x; goto p3zCi; R6Rqi: } goto oKtIK; ILnJX: response(0, "\157\153", $list, false); goto S2rm7; rYhZR: $list = []; goto WfJtR; SYMgx: global $_W; goto l2D0n; SAKUF: if (!(count($list) < 3)) { goto xGzLR; } goto rYhZR; WfJtR: xGzLR: goto QNirf; oKtIK: ObpXL: goto rJfRI; l2D0n: $list = IdiomEgg::getForBroad($_W["\165\x6e\x69\x61\x63\151\x64"]); goto SAKUF; Lozue: $list = fillListWithIdiomUser($list, ["\156\151\x63\153\156\x61\x6d\x65"]); goto JJOpP; S2rm7: } }